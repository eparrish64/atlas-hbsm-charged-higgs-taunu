//             This is an effective mass reweighting for ttbar - from fit
//             To be used for the tau+lep channel!
//             in a the lookup table form (after compactification)
float eff_mass_taulep(float eff_m,int var){
	 //! xmin:  0.0 
	 //! xmax: 3000.0 
	 //! npoints: 100 
	 int i = static_cast<int>(100*(eff_m -  0.0)/(3000.0 -  0.0)); 
	 if ( i < 0 || i > 100 ) i=100; 

		 //! NOMINAL 
		 if(var==0 || var==1){
			 float SF_temp[102] = { 
0.956, 0.958, 0.960, 0.961, 0.962, 0.963, 0.964, 0.964, 0.964, 0.964, 0.964, 0.963, 0.962, 0.961, 0.959, 0.958, 0.956, 0.954, 0.951, 0.949, 0.946, 0.943, 0.940, 0.936, 0.933, 0.929, 0.925, 0.921, 0.917, 0.912, 0.908, 0.903, 0.898, 0.893, 0.888, 0.882, 0.877, 0.871, 0.865, 0.859, 0.853, 0.847, 0.841, 0.834, 0.828, 0.821, 0.814, 0.808, 0.801, 0.794, 0.787, 0.780, 0.772, 0.765, 0.758, 0.750, 0.743, 0.735, 0.728, 0.720, 0.713, 0.705, 0.697, 0.689, 0.682, 0.674, 0.666, 0.658, 0.651, 0.643, 0.635, 0.627, 0.620, 0.612, 0.604, 0.597, 0.589, 0.581, 0.574, 0.566, 0.559, 0.551, 0.544, 0.537, 0.530, 0.522, 0.515, 0.508, 0.501, 0.495, 0.488, 0.481, 0.475, 0.468, 0.462, 0.456, 0.450, 0.444, 0.438, 0.432, 0.427, 1.000 
			  }; 
			 return SF_temp[i]; 
		  }; 
		 //! full variation UP
		 if(var==2){
			 float SF_temp[102] = { 
1.341, 1.296, 1.255, 1.218, 1.186, 1.157, 1.131, 1.108, 1.087, 1.070, 1.054, 1.041, 1.029, 1.019, 1.011, 1.004, 0.998, 0.993, 0.989, 0.986, 0.983, 0.980, 0.978, 0.976, 0.974, 0.972, 0.971, 0.970, 0.969, 0.968, 0.967, 0.966, 0.965, 0.965, 0.964, 0.963, 0.962, 0.960, 0.959, 0.957, 0.955, 0.953, 0.951, 0.949, 0.946, 0.943, 0.940, 0.936, 0.932, 0.928, 0.924, 0.919, 0.914, 0.908, 0.903, 0.896, 0.890, 0.883, 0.876, 0.868, 0.860, 0.852, 0.843, 0.834, 0.825, 0.815, 0.805, 0.794, 0.784, 0.773, 0.761, 0.750, 0.739, 0.727, 0.716, 0.705, 0.695, 0.685, 0.676, 0.669, 0.663, 0.659, 0.657, 0.657, 0.658, 0.662, 0.667, 0.674, 0.683, 0.694, 0.705, 0.719, 0.733, 0.750, 0.767, 0.786, 0.806, 0.828, 0.851, 0.875, 0.901, 1.000 
			  }; 
			 return SF_temp[i]; 
		  }; 
		 //! full variation DOWN
		 if(var==3){
			 float SF_temp[102] = { 
0.570, 0.619, 0.663, 0.702, 0.737, 0.767, 0.794, 0.817, 0.837, 0.853, 0.867, 0.878, 0.887, 0.893, 0.897, 0.900, 0.901, 0.900, 0.899, 0.897, 0.894, 0.891, 0.887, 0.882, 0.877, 0.872, 0.866, 0.859, 0.852, 0.845, 0.837, 0.829, 0.820, 0.811, 0.802, 0.793, 0.783, 0.773, 0.764, 0.754, 0.744, 0.734, 0.723, 0.713, 0.703, 0.693, 0.683, 0.673, 0.664, 0.654, 0.644, 0.635, 0.626, 0.617, 0.608, 0.600, 0.591, 0.583, 0.575, 0.568, 0.561, 0.554, 0.547, 0.541, 0.535, 0.529, 0.524, 0.519, 0.514, 0.509, 0.505, 0.501, 0.497, 0.493, 0.489, 0.485, 0.480, 0.475, 0.468, 0.461, 0.452, 0.441, 0.429, 0.415, 0.399, 0.382, 0.362, 0.341, 0.319, 0.295, 0.270, 0.243, 0.216, 0.187, 0.157, 0.125, 0.093, 0.060, 0.025, -0.011, -0.047, 1.000 
			  }; 
			 return SF_temp[i]; 
		  }; 
		 std::cout << "njet SF ERROR:   Unrecognized variation index! " << var << std::endl; 
		 return 1.0; 
 }; 
 
